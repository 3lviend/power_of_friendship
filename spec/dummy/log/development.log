  [1m[36m (71.0ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (72.0ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20141221011839)
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (90.0ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20141221011839"]]
  [1m[36m (2.0ms)[0m  [1mCOMMIT[0m
  [1m[35mActiveRecord::SchemaMigration Load (1.0ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateFriendships (20141221222312)
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (158.0ms)[0m  [1mCREATE TABLE "friendships" ("id" serial primary key, "user_id" integer, "friend_id" integer, "pending" boolean DEFAULT 't', "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (53.0ms)[0m  CREATE  INDEX  "index_friendships_on_user_id" ON "friendships"  ("user_id")
  [1m[36m (31.0ms)[0m  [1mCREATE  INDEX  "index_friendships_on_friend_id" ON "friendships"  ("friend_id")[0m
  [1m[35m (28.0ms)[0m  CREATE UNIQUE INDEX  "index_friendships_on_user_id_and_friend_id" ON "friendships"  ("user_id", "friend_id")
  [1m[36mSQL (2.0ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20141221222312"]]
  [1m[35m (19.0ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (19.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (46.0ms)[0m  INSERT INTO "users" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2014-12-23 17:43:04.765230"], ["updated_at", "2014-12-23 17:43:04.765230"]]
  [1m[36m (2.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (2.0ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2014-12-23 17:43:19.228058"], ["updated_at", "2014-12-23 17:43:19.228058"]]
  [1m[35m (11.0ms)[0m  COMMIT
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (3.0ms)[0m  INSERT INTO "users" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2014-12-23 17:43:24.841379"], ["updated_at", "2014-12-23 17:43:24.841379"]]
  [1m[36m (11.0ms)[0m  [1mCOMMIT[0m
  [1m[35mFriendship Load (107.0ms)[0m  SELECT  "friendships".* FROM "friendships"  WHERE ((("friendships"."user_id" = 1 AND "friendships"."friend_id" = 2) OR ("friendships"."user_id" = 2 AND "friendships"."friend_id" = 1)))  ORDER BY "friendships"."created_at" DESC LIMIT 1
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
  [1m[35mFriendship Exists (1.0ms)[0m  SELECT  1 AS one FROM "friendships"  WHERE ("friendships"."user_id" = 1 AND "friendships"."friend_id" = 2) LIMIT 1
  [1m[36mSQL (30.0ms)[0m  [1mINSERT INTO "friendships" ("created_at", "friend_id", "updated_at", "user_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2014-12-23 17:43:36.658054"], ["friend_id", 2], ["updated_at", "2014-12-23 17:43:36.658054"], ["user_id", 1]]
  [1m[35m (1.0ms)[0m  COMMIT
  [1m[36mFriendship Load (4.0ms)[0m  [1mSELECT  "friendships".* FROM "friendships"  WHERE ((("friendships"."user_id" = 1 AND "friendships"."friend_id" = 3) OR ("friendships"."user_id" = 3 AND "friendships"."friend_id" = 1)))  ORDER BY "friendships"."created_at" DESC LIMIT 1[0m
  [1m[35m (1.0ms)[0m  BEGIN
  [1m[36mFriendship Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "friendships"  WHERE ("friendships"."user_id" = 1 AND "friendships"."friend_id" = 3) LIMIT 1[0m
  [1m[35mSQL (4.0ms)[0m  INSERT INTO "friendships" ("created_at", "friend_id", "updated_at", "user_id") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2014-12-23 17:43:45.491560"], ["friend_id", 3], ["updated_at", "2014-12-23 17:43:45.491560"], ["user_id", 1]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
  [1m[35mFriendship Load (7.0ms)[0m  SELECT  "friendships".* FROM "friendships"  WHERE "friendships"."user_id" = 1 AND "friendships"."friend_id" = 3 AND "friendships"."pending" = 't'  ORDER BY "friendships"."id" ASC LIMIT 1
  [1m[36m (3.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.0ms)[0m  UPDATE "friendships" SET "pending" = $1, "updated_at" = $2 WHERE "friendships"."id" = 2  [["pending", "f"], ["updated_at", "2014-12-23 17:43:50.915870"]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.0ms)[0m  BEGIN
  [1m[36mFriendship Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "friendships"  WHERE ("friendships"."user_id" = 3 AND "friendships"."friend_id" = 1) LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "friendships" ("created_at", "friend_id", "pending", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2014-12-23 17:43:50.952872"], ["friend_id", 1], ["pending", "f"], ["updated_at", "2014-12-23 17:43:50.952872"], ["user_id", 3]]
  [1m[36m (2.0ms)[0m  [1mCOMMIT[0m
  [1m[35mFriendship Load (0.0ms)[0m  SELECT  "friendships".* FROM "friendships"  WHERE "friendships"."user_id" = 1 AND "friendships"."friend_id" = 2 AND "friendships"."pending" = 't'  ORDER BY "friendships"."id" ASC LIMIT 1
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  UPDATE "friendships" SET "pending" = $1, "updated_at" = $2 WHERE "friendships"."id" = 1  [["pending", "f"], ["updated_at", "2014-12-23 17:43:59.245346"]]
  [1m[36m (11.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.0ms)[0m  BEGIN
  [1m[36mFriendship Exists (2.0ms)[0m  [1mSELECT  1 AS one FROM "friendships"  WHERE ("friendships"."user_id" = 2 AND "friendships"."friend_id" = 1) LIMIT 1[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "friendships" ("created_at", "friend_id", "pending", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"  [["created_at", "2014-12-23 17:43:59.270348"], ["friend_id", 1], ["pending", "f"], ["updated_at", "2014-12-23 17:43:59.270348"], ["user_id", 2]]
  [1m[36m (69.0ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (1.0ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."pending" = 'f'  [["user_id", 1]]
  [1m[36mUser Load (2.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."pending" = 'f' AND "users"."id" = 2 LIMIT 1  [["user_id", 1]]
  [1m[36mUser Exists (2.0ms)[0m  [1mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."pending" = 'f' AND "users"."id" = 1 LIMIT 1[0m  [["user_id", 3]]
  [1m[35mUser Exists (1.0ms)[0m  SELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."pending" = 'f' AND "users"."id" = 1 LIMIT 1  [["user_id", 3]]
  [1m[36mUser Exists (3.0ms)[0m  [1mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."pending" = 'f' AND "users"."id" = 2 LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUser Exists (3.0ms)[0m  SELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."pending" = 'f' AND "users"."id" = 2 LIMIT 1  [["user_id", 1]]
  [1m[36mUser Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."pending" = 'f' AND "users"."id" = 2 LIMIT 1[0m  [["user_id", 1]]
  [1m[35mUser Load (1.0ms)[0m  SELECT "users".* FROM "users" INNER JOIN "friendships" ON "users"."id" = "friendships"."friend_id" WHERE "friendships"."user_id" = $1 AND "friendships"."pending" = 'f'  [["user_id", 1]]
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (1.0ms)[0m  BEGIN
  [1m[36mFriendship Load (2.0ms)[0m  [1mSELECT "friendships".* FROM "friendships"  WHERE "friendships"."user_id" = $1[0m  [["user_id", 1]]
  [1m[35mSQL (1.0ms)[0m  DELETE FROM "friendships" WHERE "friendships"."id" = $1  [["id", 1]]
  [1m[36mSQL (2.0ms)[0m  [1mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 2]]
  [1m[35mFriendship Load (1.0ms)[0m  SELECT "friendships".* FROM "friendships"  WHERE "friendships"."friend_id" = $1  [["friend_id", 1]]
  [1m[36mSQL (1.0ms)[0m  [1mDELETE FROM "friendships" WHERE "friendships"."id" = $1[0m  [["id", 3]]
  [1m[35mSQL (1.0ms)[0m  DELETE FROM "friendships" WHERE "friendships"."id" = $1  [["id", 4]]
  [1m[36mSQL (2.0ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 1]]
  [1m[35m (61.0ms)[0m  COMMIT
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
  [1m[35mFriendship Load (1.0ms)[0m  SELECT "friendships".* FROM "friendships"  WHERE "friendships"."user_id" = $1  [["user_id", 2]]
  [1m[36mFriendship Load (1.0ms)[0m  [1mSELECT "friendships".* FROM "friendships"  WHERE "friendships"."friend_id" = $1[0m  [["friend_id", 2]]
  [1m[35mSQL (1.0ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 2]]
  [1m[36m (77.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.0ms)[0m  BEGIN
  [1m[36mFriendship Load (1.0ms)[0m  [1mSELECT "friendships".* FROM "friendships"  WHERE "friendships"."user_id" = $1[0m  [["user_id", 3]]
  [1m[35mFriendship Load (1.0ms)[0m  SELECT "friendships".* FROM "friendships"  WHERE "friendships"."friend_id" = $1  [["friend_id", 3]]
  [1m[36mSQL (0.0ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 3]]
  [1m[35m (25.0ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (29.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (1.0ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
Migrating to CreateFriendships (20141221222312)
  [1m[36m (9.0ms)[0m  [1mBEGIN[0m
  [1m[35m (193.0ms)[0m  DROP INDEX "index_friendships_on_user_id_and_friend_id"
  [1m[36m (51.0ms)[0m  [1mDROP TABLE "friendships"[0m
  [1m[35mSQL (30.0ms)[0m  DELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = '20141221222312'
  [1m[36m (72.0ms)[0m  [1mCOMMIT[0m
  [1m[35mActiveRecord::SchemaMigration Load (1.0ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (20.0ms)[0m  INSERT INTO "users" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2014-12-24 19:42:01.625668"], ["updated_at", "2014-12-24 19:42:01.625668"]]
  [1m[36m (9.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2014-12-24 19:42:12.748304"], ["updated_at", "2014-12-24 19:42:12.748304"]]
  [1m[35m (11.0ms)[0m  COMMIT
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (1.0ms)[0m  BEGIN
PG::UndefinedTable: ERROR:  relation "user_friendships" does not exist
LINE 5:                WHERE a.attrelid = '"user_friendships"'::regc...
                                          ^
:               SELECT a.attname, format_type(a.atttypid, a.atttypmod),
                     pg_get_expr(d.adbin, d.adrelid), a.attnotnull, a.atttypid, a.atttypmod
                FROM pg_attribute a LEFT JOIN pg_attrdef d
                  ON a.attrelid = d.adrelid AND a.attnum = d.adnum
               WHERE a.attrelid = '"user_friendships"'::regclass
                 AND a.attnum > 0 AND NOT a.attisdropped
               ORDER BY a.attnum

  [1m[36m (1.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (2.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUserFriendship (20141224194050)
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (236.0ms)[0m  [1mCREATE TABLE "user_friendships" ("id" serial primary key, "user_id" integer, "friend_id" integer, "pending" boolean DEFAULT 't', "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (29.0ms)[0m  CREATE  INDEX  "index_user_friendships_on_user_id" ON "user_friendships"  ("user_id")
  [1m[36m (24.0ms)[0m  [1mCREATE  INDEX  "index_user_friendships_on_friend_id" ON "user_friendships"  ("friend_id")[0m
  [1m[35m (30.0ms)[0m  CREATE UNIQUE INDEX  "index_user_friendships_on_user_id_and_friend_id" ON "user_friendships"  ("user_id", "friend_id")
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20141224194050"]]
  [1m[35m (18.0ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.0ms)[0m  INSERT INTO "users" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2014-12-24 19:45:39.307119"], ["updated_at", "2014-12-24 19:45:39.307119"]]
  [1m[36m (11.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.0ms)[0m  BEGIN
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2014-12-24 19:45:47.222571"], ["updated_at", "2014-12-24 19:45:47.222571"]]
  [1m[35m (12.0ms)[0m  COMMIT
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1 OFFSET 1
  [1m[36mUserFriendship Load (40.0ms)[0m  [1mSELECT  "user_friendships".* FROM "user_friendships"  WHERE ((("user_friendships"."user_id" = 4 AND "user_friendships"."friend_id" = 5) OR ("user_friendships"."user_id" = 5 AND "user_friendships"."friend_id" = 4)))  ORDER BY "user_friendships"."created_at" DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mUserFriendship Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "user_friendships"  WHERE ("user_friendships"."user_id" = 4 AND "user_friendships"."friend_id" = 5) LIMIT 1[0m
  [1m[35mSQL (3.0ms)[0m  INSERT INTO "user_friendships" ("created_at", "friend_id", "updated_at", "user_id") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2014-12-24 19:47:06.168087"], ["friend_id", 5], ["updated_at", "2014-12-24 19:47:06.168087"], ["user_id", 4]]
  [1m[36m (2.0ms)[0m  [1mCOMMIT[0m
  [1m[36mUser Load (2.0ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[36mUser Load (2.0ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users"
  [1m[36mUser Load (2.0ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mUserFriendship Load (1.0ms)[0m  [1mSELECT "user_friendships".* FROM "user_friendships"  WHERE "user_friendships"."user_id" = $1[0m  [["user_id", 4]]
  [1m[35mSQL (1.0ms)[0m  DELETE FROM "user_friendships" WHERE "user_friendships"."id" = $1  [["id", 1]]
  [1m[36mUserFriendship Load (1.0ms)[0m  [1mSELECT "user_friendships".* FROM "user_friendships"  WHERE "user_friendships"."friend_id" = $1[0m  [["friend_id", 4]]
  [1m[35mSQL (1.0ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 4]]
  [1m[36m (2.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.0ms)[0m  BEGIN
  [1m[36mUserFriendship Load (1.0ms)[0m  [1mSELECT "user_friendships".* FROM "user_friendships"  WHERE "user_friendships"."user_id" = $1[0m  [["user_id", 5]]
  [1m[35mUserFriendship Load (1.0ms)[0m  SELECT "user_friendships".* FROM "user_friendships"  WHERE "user_friendships"."friend_id" = $1  [["friend_id", 5]]
  [1m[36mSQL (1.0ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 5]]
  [1m[35m (1.0ms)[0m  COMMIT
  [1m[36m (2.0ms)[0m  [1mBEGIN[0m
  [1m[35mUserFriendship Load (1.0ms)[0m  SELECT "user_friendships".* FROM "user_friendships"  WHERE "user_friendships"."user_id" = $1  [["user_id", 6]]
  [1m[36mUserFriendship Load (1.0ms)[0m  [1mSELECT "user_friendships".* FROM "user_friendships"  WHERE "user_friendships"."friend_id" = $1[0m  [["friend_id", 6]]
  [1m[35mSQL (1.0ms)[0m  DELETE FROM "users" WHERE "users"."id" = $1  [["id", 6]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mUserFriendship Load (1.0ms)[0m  [1mSELECT "user_friendships".* FROM "user_friendships"  WHERE "user_friendships"."user_id" = $1[0m  [["user_id", 7]]
  [1m[35mUserFriendship Load (3.0ms)[0m  SELECT "user_friendships".* FROM "user_friendships"  WHERE "user_friendships"."friend_id" = $1  [["friend_id", 7]]
  [1m[36mSQL (1.0ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = $1[0m  [["id", 7]]
  [1m[35m (2.0ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "users" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2014-12-24 20:32:19.917304"], ["updated_at", "2014-12-24 20:32:19.917304"]]
  [1m[36m (4.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2014-12-24 20:32:20.590343"], ["updated_at", "2014-12-24 20:32:20.590343"]]
  [1m[35m (11.0ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "users" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2014-12-24 20:32:20.951363"], ["updated_at", "2014-12-24 20:32:20.951363"]]
  [1m[36m (10.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2014-12-24 20:32:21.286383"], ["updated_at", "2014-12-24 20:32:21.286383"]]
  [1m[35m (2.0ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "users" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2014-12-24 20:32:21.575399"], ["updated_at", "2014-12-24 20:32:21.575399"]]
  [1m[36m (42.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2014-12-24 20:32:21.887417"], ["updated_at", "2014-12-24 20:32:21.887417"]]
  [1m[35m (53.0ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "users" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2014-12-24 20:32:22.199435"], ["updated_at", "2014-12-24 20:32:22.199435"]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1 OFFSET 1[0m
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1 OFFSET 2
  [1m[36mUserFriendship Load (2.0ms)[0m  [1mSELECT  "user_friendships".* FROM "user_friendships"  WHERE ((("user_friendships"."user_id" = 8 AND "user_friendships"."friend_id" = 9) OR ("user_friendships"."user_id" = 9 AND "user_friendships"."friend_id" = 8)))  ORDER BY "user_friendships"."created_at" DESC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mUserFriendship Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "user_friendships"  WHERE ("user_friendships"."user_id" = 8 AND "user_friendships"."friend_id" = 9) LIMIT 1[0m
  [1m[35mSQL (2.0ms)[0m  INSERT INTO "user_friendships" ("created_at", "friend_id", "updated_at", "user_id") VALUES ($1, $2, $3, $4) RETURNING "id"  [["created_at", "2014-12-24 20:32:46.963851"], ["friend_id", 9], ["updated_at", "2014-12-24 20:32:46.963851"], ["user_id", 8]]
  [1m[36m (11.0ms)[0m  [1mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Load (49.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mActiveRecord::SchemaMigration Load (1.0ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (174.0ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (153.0ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUsers (20141221011839)
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (84.0ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20141221011839"]]
  [1m[36m (26.0ms)[0m  [1mCOMMIT[0m
  [1m[35mActiveRecord::SchemaMigration Load (1.0ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36mUser Load (46.0ms)[0m  [1mSELECT * FROM "users"[0m
  [1m[36mUserFriendship Load (55.0ms)[0m  [1mSELECT "user_friendships".* FROM "user_friendships"[0m
PG::UndefinedTable: ERROR:  relation "user_friendships" does not exist
LINE 1: SELECT "user_friendships".* FROM "user_friendships"
                                         ^
: SELECT "user_friendships".* FROM "user_friendships"
  [1m[36mActiveRecord::SchemaMigration Load (210.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateUserFriendship (20141226164009)
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (2159.1ms)[0m  [1mCREATE TABLE "user_friendships" ("id" serial primary key, "user_id" integer, "friend_id" integer, "pending" boolean DEFAULT 't', "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (29.0ms)[0m  CREATE  INDEX  "index_user_friendships_on_user_id" ON "user_friendships"  ("user_id")
  [1m[36m (110.0ms)[0m  [1mCREATE  INDEX  "index_user_friendships_on_friend_id" ON "user_friendships"  ("friend_id")[0m
  [1m[35m (123.0ms)[0m  CREATE UNIQUE INDEX  "index_user_friendships_on_user_id_and_friend_id" ON "user_friendships"  ("user_id", "friend_id")
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20141226164009"]]
  [1m[35m (82.0ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mUserFriendship Load (2.0ms)[0m  [1mSELECT "user_friendships".* FROM "user_friendships"[0m
  [1m[35mUserFriendship Load (1.0ms)[0m  SELECT "user_friendships".* FROM "user_friendships"
  [1m[36mUserFriendship Load (53.0ms)[0m  [1mSELECT "user_friendships".* FROM "user_friendships" INNER JOIN "users" ON "users"."id" = "user_friendships"."user_id"[0m
  [1m[35mUserFriendship Load (1.0ms)[0m  SELECT "user_friendships".* FROM "user_friendships" INNER JOIN "users" ON "users"."id" = "user_friendships"."user_id"
  [1m[36mUserFriendship Load (3.0ms)[0m  [1mSELECT "user_friendships"."user" FROM "user_friendships" INNER JOIN "users" ON "users"."id" = "user_friendships"."user_id"[0m
PG::UndefinedColumn: ERROR:  column user_friendships.user does not exist
LINE 1: SELECT "user_friendships"."user" FROM "user_friendships" INN...
               ^
: SELECT "user_friendships"."user" FROM "user_friendships" INNER JOIN "users" ON "users"."id" = "user_friendships"."user_id"
  [1m[35mUserFriendship Load (1.0ms)[0m  SELECT "user_friendships".* FROM "user_friendships" INNER JOIN "users" ON "users"."id" = "user_friendships"."user_id"
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id"[0m
  [1m[35mUser Load (2.0ms)[0m  SELECT "users".* FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" WHERE (user_friendship.friend_id NOT NULL)
PG::SyntaxError: ERROR:  syntax error at or near "NULL"
LINE 1: ...d" = "users"."id" WHERE (user_friendship.friend_id NOT NULL)
                                                                  ^
: SELECT "users".* FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" WHERE (user_friendship.friend_id NOT NULL)
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" WHERE (user_friendship.friend_id NOT dfg)[0m
PG::SyntaxError: ERROR:  syntax error at or near "dfg"
LINE 1: ...id" = "users"."id" WHERE (user_friendship.friend_id NOT dfg)
                                                                   ^
: SELECT "users".* FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" WHERE (user_friendship.friend_id NOT dfg)
  [1m[35mUser Load (2.0ms)[0m  SELECT "users".* FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" WHERE (user_friendship.friend_id NOT "dfg")
PG::SyntaxError: ERROR:  syntax error at or near ""dfg""
LINE 1: ..." = "users"."id" WHERE (user_friendship.friend_id NOT "dfg")
                                                                 ^
: SELECT "users".* FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" WHERE (user_friendship.friend_id NOT "dfg")
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" WHERE (user_friendship.friend_id NOT EXIST)[0m
PG::SyntaxError: ERROR:  syntax error at or near "EXIST"
LINE 1: ..." = "users"."id" WHERE (user_friendship.friend_id NOT EXIST)
                                                                 ^
: SELECT "users".* FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" WHERE (user_friendship.friend_id NOT EXIST)
  [1m[35mUser Load (1.0ms)[0m  SELECT "users".* FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" WHERE (user_friendship.friend_id NOT EXISTs)
PG::SyntaxError: ERROR:  syntax error at or near "EXISTs"
LINE 1: ... = "users"."id" WHERE (user_friendship.friend_id NOT EXISTs)
                                                                ^
: SELECT "users".* FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" WHERE (user_friendship.friend_id NOT EXISTs)
  [1m[36mUser Load (2.0ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" WHERE (user_friendship.friend_id Exists)[0m
PG::SyntaxError: ERROR:  syntax error at or near "Exists"
LINE 1: ..._id" = "users"."id" WHERE (user_friendship.friend_id Exists)
                                                                ^
: SELECT "users".* FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" WHERE (user_friendship.friend_id Exists)
  [1m[35mUser Load (1.0ms)[0m  SELECT "users".* FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" WHERE (user_friendship.friend_id == nil)
PG::UndefinedTable: ERROR:  missing FROM-clause entry for table "user_friendship"
LINE 1: ...user_friendships"."user_id" = "users"."id" WHERE (user_frien...
                                                             ^
: SELECT "users".* FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" WHERE (user_friendship.friend_id == nil)
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" WHERE (user_friendship.friend_id == sdf)[0m
PG::UndefinedTable: ERROR:  missing FROM-clause entry for table "user_friendship"
LINE 1: ...user_friendships"."user_id" = "users"."id" WHERE (user_frien...
                                                             ^
: SELECT "users".* FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" WHERE (user_friendship.friend_id == sdf)
  [1m[35mUser Load (2.0ms)[0m  SELECT "users".* FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" WHERE (user_friendships.friend_id == sdf)
PG::UndefinedColumn: ERROR:  column "sdf" does not exist
LINE 1: ...id" = "users"."id" WHERE (user_friendships.friend_id == sdf)
                                                                   ^
: SELECT "users".* FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" WHERE (user_friendships.friend_id == sdf)
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id"  ORDER BY "users"."friend_id" ASC[0m
PG::UndefinedColumn: ERROR:  column users.friend_id does not exist
LINE 1: ...r_friendships"."user_id" = "users"."id"  ORDER BY "users"."f...
                                                             ^
: SELECT "users".* FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id"  ORDER BY "users"."friend_id" ASC
  [1m[35mUser Load (1.0ms)[0m  SELECT "users".* FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id"  ORDER BY "users"."user_id" ASC
PG::UndefinedColumn: ERROR:  column users.user_id does not exist
LINE 1: ...r_friendships"."user_id" = "users"."id"  ORDER BY "users"."u...
                                                             ^
: SELECT "users".* FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id"  ORDER BY "users"."user_id" ASC
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id"  ORDER BY user_friendship.friend_id[0m
PG::UndefinedTable: ERROR:  missing FROM-clause entry for table "user_friendship"
LINE 1: ...r_friendships"."user_id" = "users"."id"  ORDER BY user_frien...
                                                             ^
: SELECT "users".* FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id"  ORDER BY user_friendship.friend_id
  [1m[35mUser Load (1.0ms)[0m  SELECT "users".* FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id"  ORDER BY friendship.friend_id
PG::UndefinedTable: ERROR:  missing FROM-clause entry for table "friendship"
LINE 1: ...r_friendships"."user_id" = "users"."id"  ORDER BY friendship...
                                                             ^
: SELECT "users".* FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id"  ORDER BY friendship.friend_id
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users".* FROM "users"   ORDER BY friendship.friend_id[0m
PG::UndefinedTable: ERROR:  missing FROM-clause entry for table "friendship"
LINE 1: SELECT "users".* FROM "users"   ORDER BY friendship.friend_i...
                                                 ^
: SELECT "users".* FROM "users"   ORDER BY friendship.friend_id
  [1m[35mUser Load (1.0ms)[0m  SELECT "users".* FROM "users"   ORDER BY friendships.friend_id
PG::UndefinedTable: ERROR:  missing FROM-clause entry for table "friendships"
LINE 1: SELECT "users".* FROM "users"   ORDER BY friendships.friend_...
                                                 ^
: SELECT "users".* FROM "users"   ORDER BY friendships.friend_id
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id"  ORDER BY friendships.friend_id[0m
PG::UndefinedTable: ERROR:  missing FROM-clause entry for table "friendships"
LINE 1: ...r_friendships"."user_id" = "users"."id"  ORDER BY friendship...
                                                             ^
: SELECT "users".* FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id"  ORDER BY friendships.friend_id
  [1m[35mUser Load (1.0ms)[0m  SELECT "users".* FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id"  ORDER BY user_friendships.friend_id
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users".* FROM "users"[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (76.0ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2015-01-10 21:00:02.781905"], ["updated_at", "2015-01-10 21:00:02.781905"]]
  [1m[35m (55.0ms)[0m  COMMIT
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "users" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2015-01-10 21:00:03.559950"], ["updated_at", "2015-01-10 21:00:03.559950"]]
  [1m[36m (20.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.0ms)[0m  BEGIN
  [1m[36mSQL (2.0ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2015-01-10 21:00:03.953972"], ["updated_at", "2015-01-10 21:00:03.953972"]]
  [1m[35m (15.0ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "users" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2015-01-10 21:00:04.249989"], ["updated_at", "2015-01-10 21:00:04.249989"]]
  [1m[36m (2.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2015-01-10 21:00:04.547006"], ["updated_at", "2015-01-10 21:00:04.547006"]]
  [1m[35m (24.0ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (2.0ms)[0m  INSERT INTO "users" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2015-01-10 21:00:04.804021"], ["updated_at", "2015-01-10 21:00:04.804021"]]
  [1m[36m (2.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (1.0ms)[0m  BEGIN
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2015-01-10 21:00:05.078036"], ["updated_at", "2015-01-10 21:00:05.078036"]]
  [1m[35m (53.0ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "users" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2015-01-10 21:00:05.314050"], ["updated_at", "2015-01-10 21:00:05.314050"]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (2.0ms)[0m  BEGIN
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2015-01-10 21:00:05.552063"], ["updated_at", "2015-01-10 21:00:05.552063"]]
  [1m[35m (1.0ms)[0m  COMMIT
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "users" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2015-01-10 21:00:05.815078"], ["updated_at", "2015-01-10 21:00:05.815078"]]
  [1m[36m (2.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (3.0ms)[0m  BEGIN
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2015-01-10 21:00:06.075093"], ["updated_at", "2015-01-10 21:00:06.075093"]]
  [1m[35m (72.0ms)[0m  COMMIT
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "users" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2015-01-10 21:00:06.314107"], ["updated_at", "2015-01-10 21:00:06.314107"]]
  [1m[36m (1.0ms)[0m  [1mCOMMIT[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (1.0ms)[0m  [1mINSERT INTO "users" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"[0m  [["created_at", "2015-01-10 21:00:06.552121"], ["updated_at", "2015-01-10 21:00:06.552121"]]
  [1m[35m (5.0ms)[0m  COMMIT
  [1m[36m (1.0ms)[0m  [1mBEGIN[0m
  [1m[35mSQL (1.0ms)[0m  INSERT INTO "users" ("created_at", "updated_at") VALUES ($1, $2) RETURNING "id"  [["created_at", "2015-01-10 21:00:06.821136"], ["updated_at", "2015-01-10 21:00:06.821136"]]
  [1m[36m (59.0ms)[0m  [1mCOMMIT[0m
  [1m[35mUser Load (2.0ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUser Load (2.0ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1 OFFSET 1[0m
  [1m[35mUserFriendship Load (2.0ms)[0m  SELECT  "user_friendships".* FROM "user_friendships"  WHERE ((("user_friendships"."user_id" = 1 AND "user_friendships"."friend_id" = 2) OR ("user_friendships"."user_id" = 2 AND "user_friendships"."friend_id" = 1)))  ORDER BY "user_friendships"."created_at" DESC LIMIT 1
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mUserFriendship Exists (0.0ms)[0m  SELECT  1 AS one FROM "user_friendships"  WHERE ("user_friendships"."user_id" = 1 AND "user_friendships"."friend_id" = 2) LIMIT 1
  [1m[36mSQL (4.0ms)[0m  [1mINSERT INTO "user_friendships" ("created_at", "friend_id", "updated_at", "user_id") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["created_at", "2015-01-10 21:00:17.366739"], ["friend_id", 2], ["updated_at", "2015-01-10 21:00:17.366739"], ["user_id", 1]]
  [1m[35m (1.0ms)[0m  COMMIT
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1 OFFSET 1[0m
  [1m[35mUser Load (1.0ms)[0m  SELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1
  [1m[36mUserFriendship Load (9.0ms)[0m  [1mSELECT  "user_friendships".* FROM "user_friendships"  WHERE "user_friendships"."user_id" = 1 AND "user_friendships"."friend_id" = 2 AND "user_friendships"."pending" = 't'  ORDER BY "user_friendships"."id" ASC LIMIT 1[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mSQL (1.0ms)[0m  [1mUPDATE "user_friendships" SET "pending" = $1, "updated_at" = $2 WHERE "user_friendships"."id" = 1[0m  [["pending", "f"], ["updated_at", "2015-01-10 21:00:27.431315"]]
  [1m[35m (2.0ms)[0m  COMMIT
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mUserFriendship Exists (4.0ms)[0m  SELECT  1 AS one FROM "user_friendships"  WHERE ("user_friendships"."user_id" = 2 AND "user_friendships"."friend_id" = 1) LIMIT 1
  [1m[36mSQL (2.0ms)[0m  [1mINSERT INTO "user_friendships" ("created_at", "friend_id", "pending", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["created_at", "2015-01-10 21:00:27.470317"], ["friend_id", 1], ["pending", "f"], ["updated_at", "2015-01-10 21:00:27.470317"], ["user_id", 2]]
  [1m[35m (1.0ms)[0m  COMMIT
  [1m[36mUser Load (2.0ms)[0m  [1mSELECT "users".* FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id"  ORDER BY user_friendships.friend_id[0m
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id"
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35m (2.0ms)[0m  SELECT COUNT(*) FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id"
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id"[0m
  [1m[35m (2.0ms)[0m  SELECT COUNT() FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id"
PG::WrongObjectType: ERROR:  count(*) must be used to call a parameterless aggregate function
LINE 1: SELECT COUNT() FROM "users" INNER JOIN "user_friendships" ON...
               ^
: SELECT COUNT() FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id"
  [1m[36m (4.0ms)[0m  [1mSELECT COUNT() FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id"[0m
PG::WrongObjectType: ERROR:  count(*) must be used to call a parameterless aggregate function
LINE 1: SELECT COUNT() FROM "users" INNER JOIN "user_friendships" ON...
               ^
: SELECT COUNT() FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id"
  [1m[35mUser Load (2.0ms)[0m  SELECT * FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id"
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT * FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id"[0m
  [1m[35m (3.0ms)[0m  SELECT COUNT(*) FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id"
  [1m[36m (0.0ms)[0m  [1mSELECT COUNT() FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id"[0m
PG::WrongObjectType: ERROR:  count(*) must be used to call a parameterless aggregate function
LINE 1: SELECT COUNT() FROM "users" INNER JOIN "user_friendships" ON...
               ^
: SELECT COUNT() FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id"
  [1m[35mUser Load (63.0ms)[0m  SELECT *, "user_friendships"."count" AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id"
PG::GroupingError: ERROR:  column "users.id" must appear in the GROUP BY clause or be used in an aggregate function
LINE 1: SELECT *, "user_friendships"."count" AS jcount FROM "users" ...
               ^
: SELECT *, "user_friendships"."count" AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id"
  [1m[36mUser Load (2.0ms)[0m  [1mSELECT *, "friend_id"."count" AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id"[0m
PG::UndefinedTable: ERROR:  missing FROM-clause entry for table "friend_id"
LINE 1: SELECT *, "friend_id"."count" AS jcount FROM "users" INNER J...
                  ^
: SELECT *, "friend_id"."count" AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id"
  [1m[35mUser Load (1.0ms)[0m  SELECT *, "friend_id"."count" AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id"
PG::UndefinedTable: ERROR:  missing FROM-clause entry for table "friend_id"
LINE 1: SELECT *, "friend_id"."count" AS jcount FROM "users" INNER J...
                  ^
: SELECT *, "friend_id"."count" AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id"
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT *, "users"."count" AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id"[0m
PG::GroupingError: ERROR:  column "users.id" must appear in the GROUP BY clause or be used in an aggregate function
LINE 1: SELECT *, "users"."count" AS jcount FROM "users" INNER JOIN ...
               ^
: SELECT *, "users"."count" AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id"
  [1m[35mUser Load (3.0ms)[0m  SELECT *, "users"."count" AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY "users"."id"
PG::GroupingError: ERROR:  column "user_friendships.id" must appear in the GROUP BY clause or be used in an aggregate function
LINE 1: SELECT *, "users"."count" AS jcount FROM "users" INNER JOIN ...
               ^
: SELECT *, "users"."count" AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY "users"."id"
  [1m[36mUser Load (2.0ms)[0m  [1mSELECT *, "users"."count" AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY user_friendships.id[0m
PG::GroupingError: ERROR:  column "users.id" must appear in the GROUP BY clause or be used in an aggregate function
LINE 1: SELECT *, "users"."count" AS jcount FROM "users" INNER JOIN ...
               ^
: SELECT *, "users"."count" AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY user_friendships.id
  [1m[35mUser Load (1.0ms)[0m  SELECT *, count(user_friendships.id) AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY users.id
PG::GroupingError: ERROR:  column "user_friendships.id" must appear in the GROUP BY clause or be used in an aggregate function
LINE 1: SELECT *, count(user_friendships.id) AS jcount FROM "users" ...
               ^
: SELECT *, count(user_friendships.id) AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY users.id
  [1m[36mUser Load (3.0ms)[0m  [1mSELECT *, count(user_friendships.id) AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY users.id, user_friendships.id[0m
  [1m[35mUser Load (2.0ms)[0m  SELECT *, count(user_friendships.id) AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY users.id, user_friendships.id  ORDER BY "users"."jcount" ASC
PG::UndefinedColumn: ERROR:  column users.jcount does not exist
LINE 1: ... GROUP BY users.id, user_friendships.id  ORDER BY "users"."j...
                                                             ^
: SELECT *, count(user_friendships.id) AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY users.id, user_friendships.id  ORDER BY "users"."jcount" ASC
  [1m[36mUser Load (8.0ms)[0m  [1mSELECT *, count(user_friendships.id) AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY users.id, user_friendships.id  ORDER BY user_friendships.jcount[0m
PG::UndefinedColumn: ERROR:  column user_friendships.jcount does not exist
LINE 1: ... GROUP BY users.id, user_friendships.id  ORDER BY user_frien...
                                                             ^
: SELECT *, count(user_friendships.id) AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY users.id, user_friendships.id  ORDER BY user_friendships.jcount
  [1m[35mUser Load (9.0ms)[0m  SELECT *, count(user_friendships.id) AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY users.id, user_friendships.id
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT *, count(user_friendships.id) AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY users.id, user_friendships.id[0m
  [1m[35mUser Load (2.0ms)[0m  SELECT *, count(user_friendships.id) AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY users.id, user_friendships.id  ORDER BY "users"."jcount" ASC
PG::UndefinedColumn: ERROR:  column users.jcount does not exist
LINE 1: ... GROUP BY users.id, user_friendships.id  ORDER BY "users"."j...
                                                             ^
: SELECT *, count(user_friendships.id) AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY users.id, user_friendships.id  ORDER BY "users"."jcount" ASC
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT *, count(user_friendships.id) AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY users.id, user_friendships.id  ORDER BY users.jcount[0m
PG::UndefinedColumn: ERROR:  column users.jcount does not exist
LINE 1: ... GROUP BY users.id, user_friendships.id  ORDER BY users.jcou...
                                                             ^
: SELECT *, count(user_friendships.id) AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY users.id, user_friendships.id  ORDER BY users.jcount
  [1m[35mUser Load (2.0ms)[0m  SELECT *, count(user_friendships.id) AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY users.id, user_friendships.id
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT() AS count, users.id, user_friendships.id AS users_id_user_friendships_id FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY users.id, user_friendships.id[0m
PG::WrongObjectType: ERROR:  count(*) must be used to call a parameterless aggregate function
LINE 1: SELECT COUNT() AS count, users.id, user_friendships.id AS us...
               ^
: SELECT COUNT() AS count, users.id, user_friendships.id AS users_id_user_friendships_id FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY users.id, user_friendships.id
  [1m[35m (3.0ms)[0m  SELECT COUNT(*) AS count_all, users.id, user_friendships.id AS users_id_user_friendships_id FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY users.id, user_friendships.id
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT *, count(user_friendships.id) AS jcount FROM "users"[0m
PG::UndefinedTable: ERROR:  missing FROM-clause entry for table "user_friendships"
LINE 1: SELECT *, count(user_friendships.id) AS jcount FROM "users"
                        ^
: SELECT *, count(user_friendships.id) AS jcount FROM "users"
  [1m[35m (2.0ms)[0m  SELECT COUNT(*) AS count_all, users.id, user_friendships.id AS users_id_user_friendships_id FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY users.id, user_friendships.id
  [1m[36mUser Load (2.0ms)[0m  [1mSELECT *, count(user_friendships.id) AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY users.id, user_friendships.id[0m
  [1m[35mUser Load (1.0ms)[0m  SELECT "users".* FROM "users" INNER JOIN "user_friendships" ON "users"."id" = "user_friendships"."friend_id" WHERE "user_friendships"."user_id" = $1 AND "user_friendships"."pending" = 'f'  [["user_id", 2]]
  [1m[36mUserFriendship Load (0.0ms)[0m  [1mSELECT "user_friendships".* FROM "user_friendships"  WHERE "user_friendships"."user_id" = $1[0m  [["user_id", 2]]
  [1m[35mUser Load (1.0ms)[0m  SELECT *, count(user_friendships.id) AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY users.id, user_friendships.id  ORDER BY "users"."jcount" ASC
PG::UndefinedColumn: ERROR:  column users.jcount does not exist
LINE 1: ... GROUP BY users.id, user_friendships.id  ORDER BY "users"."j...
                                                             ^
: SELECT *, count(user_friendships.id) AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY users.id, user_friendships.id  ORDER BY "users"."jcount" ASC
  [1m[36m (2.0ms)[0m  [1mSELECT COUNT(*) AS count_all, users.id AS users_id FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY users.id[0m
  [1m[35mUser Load (1.0ms)[0m  SELECT *, count(users.id) AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY users.id  ORDER BY "users"."jcount" ASC
PG::UndefinedColumn: ERROR:  column users.jcount does not exist
LINE 1: ...er_id" = "users"."id" GROUP BY users.id  ORDER BY "users"."j...
                                                             ^
: SELECT *, count(users.id) AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY users.id  ORDER BY "users"."jcount" ASC
  [1m[36mUser Load (2.0ms)[0m  [1mSELECT users.*, count(users.id) AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY users.id  ORDER BY "users"."jcount" ASC[0m
PG::UndefinedColumn: ERROR:  column users.jcount does not exist
LINE 1: ...er_id" = "users"."id" GROUP BY users.id  ORDER BY "users"."j...
                                                             ^
: SELECT users.*, count(users.id) AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY users.id  ORDER BY "users"."jcount" ASC
  [1m[35mUser Load (2.0ms)[0m  SELECT users.*, count(users.id) AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY users.id
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) AS count_all, users.id AS users_id FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY users.id[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT users.*, count(users.id) AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" left join user_friendships on user_friendships.user_id = users.id GROUP BY users.id
PG::DuplicateAlias: ERROR:  table name "user_friendships" specified more than once
: SELECT users.*, count(users.id) AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" left join user_friendships on user_friendships.user_id = users.id GROUP BY users.id
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT users.*, count(users.id) AS jcount FROM "users" left join user_friendships on user_friendships.user_id = users.id GROUP BY users.id[0m
  [1m[35m (1.0ms)[0m  SELECT COUNT() AS count, users.id AS users_id FROM "users" left join user_friendships on user_friendships.user_id = users.id GROUP BY users.id
PG::WrongObjectType: ERROR:  count(*) must be used to call a parameterless aggregate function
LINE 1: SELECT COUNT() AS count, users.id AS users_id FROM "users" l...
               ^
: SELECT COUNT() AS count, users.id AS users_id FROM "users" left join user_friendships on user_friendships.user_id = users.id GROUP BY users.id
  [1m[36m (1.0ms)[0m  [1mSELECT COUNT(*) AS count_all, users.id AS users_id FROM "users" left join user_friendships on user_friendships.user_id = users.id GROUP BY users.id[0m
  [1m[35mUser Load (1.0ms)[0m  SELECT users.*, count(users.id) AS jcount FROM "users" left join user_friendships on user_friendships.user_id = users.id GROUP BY users.id
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT users.*, count(users.id) AS jcount FROM "users" left join user_friendships on user_friendships.user_id = users.id GROUP BY users.id  ORDER BY "users"."jcount" ASC[0m
PG::UndefinedColumn: ERROR:  column users.jcount does not exist
LINE 1: ...ps.user_id = users.id GROUP BY users.id  ORDER BY "users"."j...
                                                             ^
: SELECT users.*, count(users.id) AS jcount FROM "users" left join user_friendships on user_friendships.user_id = users.id GROUP BY users.id  ORDER BY "users"."jcount" ASC
  [1m[35mUser Load (1.0ms)[0m  SELECT *, count(users.id) AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY users.id  ORDER BY "users"."jcount" ASC
PG::UndefinedColumn: ERROR:  column users.jcount does not exist
LINE 1: ...er_id" = "users"."id" GROUP BY users.id  ORDER BY "users"."j...
                                                             ^
: SELECT *, count(users.id) AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY users.id  ORDER BY "users"."jcount" ASC
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT *, "users"."count" AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY user_friendships.id[0m
PG::GroupingError: ERROR:  column "users.id" must appear in the GROUP BY clause or be used in an aggregate function
LINE 1: SELECT *, "users"."count" AS jcount FROM "users" INNER JOIN ...
               ^
: SELECT *, "users"."count" AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY user_friendships.id
  [1m[35mUser Load (1.0ms)[0m  SELECT *, count(users.id) AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY users.id  ORDER BY "users"."jcount" ASC
PG::UndefinedColumn: ERROR:  column users.jcount does not exist
LINE 1: ...er_id" = "users"."id" GROUP BY users.id  ORDER BY "users"."j...
                                                             ^
: SELECT *, count(users.id) AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY users.id  ORDER BY "users"."jcount" ASC
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT users.id, users.*, count(users.id) AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY users.id  ORDER BY "users"."jcount" ASC[0m
PG::UndefinedColumn: ERROR:  column users.jcount does not exist
LINE 1: ...er_id" = "users"."id" GROUP BY users.id  ORDER BY "users"."j...
                                                             ^
: SELECT users.id, users.*, count(users.id) AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY users.id  ORDER BY "users"."jcount" ASC
  [1m[35mUser Load (1.0ms)[0m  SELECT users.id, users.*, count(users.id) AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY users.id  ORDER BY "users"."jcount" ASC
PG::UndefinedColumn: ERROR:  column users.jcount does not exist
LINE 1: ...er_id" = "users"."id" GROUP BY users.id  ORDER BY "users"."j...
                                                             ^
: SELECT users.id, users.*, count(users.id) AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY users.id  ORDER BY "users"."jcount" ASC
  [1m[36mUser Load (6.0ms)[0m  [1mSELECT "users"."id", users.*, "users"."count" AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY "users"."id"[0m
  [1m[35m (1.0ms)[0m  SELECT COUNT(*) AS count_all, "users"."id" AS users_id FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY "users"."id"
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users"."id", users.*, "users"."count" AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY "users"."id"[0m
  [1m[35mUser Load (3.0ms)[0m  SELECT "users"."id", users.*, "users"."count" AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY "users"."id"  ORDER BY "users"."jcount" ASC
PG::UndefinedColumn: ERROR:  column users.jcount does not exist
LINE 1: ...d" = "users"."id" GROUP BY "users"."id"  ORDER BY "users"."j...
                                                             ^
: SELECT "users"."id", users.*, "users"."count" AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY "users"."id"  ORDER BY "users"."jcount" ASC
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users"."id", users.*, "users"."count" AS jcount FROM "users"  GROUP BY "users"."id"  ORDER BY "users"."jcount" ASC[0m
PG::UndefinedColumn: ERROR:  column users.jcount does not exist
LINE 1: ...unt FROM "users"  GROUP BY "users"."id"  ORDER BY "users"."j...
                                                             ^
: SELECT "users"."id", users.*, "users"."count" AS jcount FROM "users"  GROUP BY "users"."id"  ORDER BY "users"."jcount" ASC
  [1m[35mUser Load (1.0ms)[0m  SELECT "users"."id", users.*, "users"."count" AS jcount FROM "users"   ORDER BY "users"."jcount" ASC
PG::UndefinedColumn: ERROR:  column users.jcount does not exist
LINE 1: ..."users"."count" AS jcount FROM "users"   ORDER BY "users"."j...
                                                             ^
: SELECT "users"."id", users.*, "users"."count" AS jcount FROM "users"   ORDER BY "users"."jcount" ASC
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users"."id", users.*, "users"."count" AS jcount FROM "users"  GROUP BY "users"."id"  ORDER BY "users"."jcount" ASC[0m
PG::UndefinedColumn: ERROR:  column users.jcount does not exist
LINE 1: ...unt FROM "users"  GROUP BY "users"."id"  ORDER BY "users"."j...
                                                             ^
: SELECT "users"."id", users.*, "users"."count" AS jcount FROM "users"  GROUP BY "users"."id"  ORDER BY "users"."jcount" ASC
  [1m[35mUser Load (1.0ms)[0m  SELECT "users"."id", users.*, "users"."count" AS jcount FROM "users"  GROUP BY "users"."id"  ORDER BY "users"."jcount" ASC
PG::UndefinedColumn: ERROR:  column users.jcount does not exist
LINE 1: ...unt FROM "users"  GROUP BY "users"."id"  ORDER BY "users"."j...
                                                             ^
: SELECT "users"."id", users.*, "users"."count" AS jcount FROM "users"  GROUP BY "users"."id"  ORDER BY "users"."jcount" ASC
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users"."id", "users"."count" AS jcount FROM "users"  GROUP BY "users"."id"  ORDER BY "users"."jcount" ASC[0m
PG::UndefinedColumn: ERROR:  column users.jcount does not exist
LINE 1: ...unt FROM "users"  GROUP BY "users"."id"  ORDER BY "users"."j...
                                                             ^
: SELECT "users"."id", "users"."count" AS jcount FROM "users"  GROUP BY "users"."id"  ORDER BY "users"."jcount" ASC
  [1m[35mUser Load (2.0ms)[0m  SELECT users.id,  count(users.id) AS jcount FROM "users"  GROUP BY "users"."id"  ORDER BY "users"."jcount" ASC
PG::UndefinedColumn: ERROR:  column users.jcount does not exist
LINE 1: ...unt FROM "users"  GROUP BY "users"."id"  ORDER BY "users"."j...
                                                             ^
: SELECT users.id,  count(users.id) AS jcount FROM "users"  GROUP BY "users"."id"  ORDER BY "users"."jcount" ASC
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT users.id,  count(users.id) AS users.jcount FROM "users"  GROUP BY "users"."id"  ORDER BY "users"."jcount" ASC[0m
PG::SyntaxError: ERROR:  syntax error at or near "."
LINE 1: SELECT users.id,  count(users.id) AS users.jcount FROM "user...
                                                  ^
: SELECT users.id,  count(users.id) AS users.jcount FROM "users"  GROUP BY "users"."id"  ORDER BY "users"."jcount" ASC
  [1m[35mUser Load (1.0ms)[0m  SELECT users.id,  count(users.id) AS "users.jcount" FROM "users"  GROUP BY "users"."id"  ORDER BY "users"."jcount" ASC
PG::UndefinedColumn: ERROR:  column users.jcount does not exist
LINE 1: ...nt" FROM "users"  GROUP BY "users"."id"  ORDER BY "users"."j...
                                                             ^
: SELECT users.id,  count(users.id) AS "users.jcount" FROM "users"  GROUP BY "users"."id"  ORDER BY "users"."jcount" ASC
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT users.id,  count(users.id) AS "users"."jcount" FROM "users"  GROUP BY "users"."id"  ORDER BY "users"."jcount" ASC[0m
PG::SyntaxError: ERROR:  syntax error at or near "."
LINE 1: SELECT users.id,  count(users.id) AS "users"."jcount" FROM "...
                                                    ^
: SELECT users.id,  count(users.id) AS "users"."jcount" FROM "users"  GROUP BY "users"."id"  ORDER BY "users"."jcount" ASC
  [1m[35mUser Load (1.0ms)[0m  SELECT users.id,  count(users.id) AS 'users'.'id' FROM "users"  GROUP BY "users"."id"  ORDER BY "users"."jcount" ASC
PG::SyntaxError: ERROR:  syntax error at or near "'users'"
LINE 1: SELECT users.id,  count(users.id) AS 'users'.'id' FROM "user...
                                             ^
: SELECT users.id,  count(users.id) AS 'users'.'id' FROM "users"  GROUP BY "users"."id"  ORDER BY "users"."jcount" ASC
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT users.id,  count(users.id) AS jcount FROM "users"  GROUP BY "users"."id"  ORDER BY jcount[0m
  [1m[35mUser Load (2.0ms)[0m  SELECT users.id,  count(users.id) AS jcount FROM "users"  GROUP BY "users"."id"  ORDER BY jcount
  [1m[36mUser Load (2.0ms)[0m  [1mSELECT "users"."id", users.*, "users"."count" AS jcount FROM "users"  GROUP BY "users"."id"  ORDER BY jcount[0m
  [1m[35mUser Load (1.0ms)[0m  SELECT "users"."id", users.*, "users"."count" AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY "users"."id"  ORDER BY jcount
  [1m[36m (2.0ms)[0m  [1mSELECT COUNT(*) AS count_all, "users"."id" AS users_id FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY "users"."id"  ORDER BY jcount[0m
PG::UndefinedColumn: ERROR:  column "jcount" does not exist
LINE 1: ...er_id" = "users"."id" GROUP BY "users"."id"  ORDER BY jcount
                                                                 ^
: SELECT COUNT(*) AS count_all, "users"."id" AS users_id FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY "users"."id"  ORDER BY jcount
  [1m[35m (2.0ms)[0m  SELECT COUNT(*) AS count_all, "users"."id" AS users_id FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY "users"."id"  ORDER BY jcount
PG::UndefinedColumn: ERROR:  column "jcount" does not exist
LINE 1: ...er_id" = "users"."id" GROUP BY "users"."id"  ORDER BY jcount
                                                                 ^
: SELECT COUNT(*) AS count_all, "users"."id" AS users_id FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY "users"."id"  ORDER BY jcount
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users"."id", users.*, "users"."count" AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY "users"."id"  ORDER BY jcount[0m
  [1m[35m (2.0ms)[0m  SELECT COUNT(*) AS count_all, "users"."id" AS users_id FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY "users"."id"  ORDER BY id
PG::AmbiguousColumn: ERROR:  column reference "id" is ambiguous
LINE 1: ...."user_id" = "users"."id" GROUP BY "users"."id"  ORDER BY id
                                                                     ^
: SELECT COUNT(*) AS count_all, "users"."id" AS users_id FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY "users"."id"  ORDER BY id
  [1m[36m (2.0ms)[0m  [1mSELECT COUNT(*) AS count_all, "users"."id" AS users_id FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY "users"."id"  ORDER BY users.id[0m
  [1m[35mUserFriendship Load (1.0ms)[0m  SELECT "user_friendships".* FROM "user_friendships"
  [1m[36mUser Load (2.0ms)[0m  [1mSELECT "users"."id", users.*, "user_friendships"."count" AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" GROUP BY "users"."id"  ORDER BY jcount[0m
  [1m[35mUser Load (2.0ms)[0m  SELECT "users"."id", users.*, "user_friendships"."count" AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" WHERE "users"."pending" = 't' GROUP BY "users"."id"  ORDER BY jcount
PG::UndefinedColumn: ERROR:  column users.pending does not exist
LINE 1: ..."user_friendships"."user_id" = "users"."id" WHERE "users"."p...
                                                             ^
: SELECT "users"."id", users.*, "user_friendships"."count" AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" WHERE "users"."pending" = 't' GROUP BY "users"."id"  ORDER BY jcount
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT "users"."id", users.*, "user_friendships"."count" AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" WHERE "user_friendships"."pending" = 't' GROUP BY "users"."id"  ORDER BY jcount[0m
  [1m[35mUser Load (2.0ms)[0m  SELECT "users"."id", users.*, "user_friendships"."count" AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" WHERE "user_friendships"."pending" = 'f' GROUP BY "users"."id"  ORDER BY jcount
  [1m[36mUser Load (2.0ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (1.0ms)[0m  SELECT "users"."id", users.*, "user_friendships"."count" AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" WHERE (("user_friendships"."user_id" IN (SELECT "user_friendships"."friend_id" FROM "user_friendships"  WHERE (("user_friendships"."user_id" IN (SELECT "user_friendships"."friend_id" FROM "user_friendships"  WHERE (("user_friendships"."user_id" = 1 AND "user_friendships"."pending" = 'f'))) AND "user_friendships"."user_id" != 1))) AND "user_friendships"."pending" = 'f' AND "user_friendships"."friend_id" IN (SELECT "user_friendships"."friend_id" FROM "user_friendships"  WHERE (("user_friendships"."user_id" = 1 AND "user_friendships"."pending" = 'f'))) AND "user_friendships"."user_id" != 1 AND "user_friendships"."user_id" NOT IN (SELECT "user_friendships"."user_id" FROM "user_friendships"  WHERE ((("user_friendships"."user_id" = 1 OR "user_friendships"."friend_id" = 1) AND "user_friendships"."pending" = 't'))) AND "user_friendships"."user_id" NOT IN (SELECT "user_friendships"."friend_id" FROM "user_friendships"  WHERE ((("user_friendships"."user_id" = 1 OR "user_friendships"."friend_id" = 1) AND "user_friendships"."pending" = 't'))) AND "user_friendships"."user_id" NOT IN (SELECT "user_friendships"."friend_id" FROM "user_friendships"  WHERE (("user_friendships"."user_id" = 1 AND "user_friendships"."pending" = 'f'))))) GROUP BY "user_friendships"."user_id"  ORDER BY jcount
PG::GroupingError: ERROR:  column "users.id" must appear in the GROUP BY clause or be used in an aggregate function
LINE 1: SELECT "users"."id", users.*, "user_friendships"."count" AS ...
               ^
: SELECT "users"."id", users.*, "user_friendships"."count" AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" WHERE (("user_friendships"."user_id" IN (SELECT "user_friendships"."friend_id" FROM "user_friendships"  WHERE (("user_friendships"."user_id" IN (SELECT "user_friendships"."friend_id" FROM "user_friendships"  WHERE (("user_friendships"."user_id" = 1 AND "user_friendships"."pending" = 'f'))) AND "user_friendships"."user_id" != 1))) AND "user_friendships"."pending" = 'f' AND "user_friendships"."friend_id" IN (SELECT "user_friendships"."friend_id" FROM "user_friendships"  WHERE (("user_friendships"."user_id" = 1 AND "user_friendships"."pending" = 'f'))) AND "user_friendships"."user_id" != 1 AND "user_friendships"."user_id" NOT IN (SELECT "user_friendships"."user_id" FROM "user_friendships"  WHERE ((("user_friendships"."user_id" = 1 OR "user_friendships"."friend_id" = 1) AND "user_friendships"."pending" = 't'))) AND "user_friendships"."user_id" NOT IN (SELECT "user_friendships"."friend_id" FROM "user_friendships"  WHERE ((("user_friendships"."user_id" = 1 OR "user_friendships"."friend_id" = 1) AND "user_friendships"."pending" = 't'))) AND "user_friendships"."user_id" NOT IN (SELECT "user_friendships"."friend_id" FROM "user_friendships"  WHERE (("user_friendships"."user_id" = 1 AND "user_friendships"."pending" = 'f'))))) GROUP BY "user_friendships"."user_id"  ORDER BY jcount
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT  "users".* FROM "users"  WHERE "users"."id" = $1 LIMIT 1[0m  [["id", 1]]
  [1m[35mUser Load (2.0ms)[0m  SELECT "users"."id", users.*, "user_friendships"."count" AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" WHERE (("user_friendships"."user_id" IN (SELECT "user_friendships"."friend_id" FROM "user_friendships"  WHERE (("user_friendships"."user_id" IN (SELECT "user_friendships"."friend_id" FROM "user_friendships"  WHERE (("user_friendships"."user_id" = 1 AND "user_friendships"."pending" = 'f'))) AND "user_friendships"."user_id" != 1))) AND "user_friendships"."pending" = 'f' AND "user_friendships"."friend_id" IN (SELECT "user_friendships"."friend_id" FROM "user_friendships"  WHERE (("user_friendships"."user_id" = 1 AND "user_friendships"."pending" = 'f'))) AND "user_friendships"."user_id" != 1 AND "user_friendships"."user_id" NOT IN (SELECT "user_friendships"."user_id" FROM "user_friendships"  WHERE ((("user_friendships"."user_id" = 1 OR "user_friendships"."friend_id" = 1) AND "user_friendships"."pending" = 't'))) AND "user_friendships"."user_id" NOT IN (SELECT "user_friendships"."friend_id" FROM "user_friendships"  WHERE ((("user_friendships"."user_id" = 1 OR "user_friendships"."friend_id" = 1) AND "user_friendships"."pending" = 't'))) AND "user_friendships"."user_id" NOT IN (SELECT "user_friendships"."friend_id" FROM "user_friendships"  WHERE (("user_friendships"."user_id" = 1 AND "user_friendships"."pending" = 'f'))))) GROUP BY "user_friendships"."user_id"  ORDER BY jcount
PG::GroupingError: ERROR:  column "users.id" must appear in the GROUP BY clause or be used in an aggregate function
LINE 1: SELECT "users"."id", users.*, "user_friendships"."count" AS ...
               ^
: SELECT "users"."id", users.*, "user_friendships"."count" AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" WHERE (("user_friendships"."user_id" IN (SELECT "user_friendships"."friend_id" FROM "user_friendships"  WHERE (("user_friendships"."user_id" IN (SELECT "user_friendships"."friend_id" FROM "user_friendships"  WHERE (("user_friendships"."user_id" = 1 AND "user_friendships"."pending" = 'f'))) AND "user_friendships"."user_id" != 1))) AND "user_friendships"."pending" = 'f' AND "user_friendships"."friend_id" IN (SELECT "user_friendships"."friend_id" FROM "user_friendships"  WHERE (("user_friendships"."user_id" = 1 AND "user_friendships"."pending" = 'f'))) AND "user_friendships"."user_id" != 1 AND "user_friendships"."user_id" NOT IN (SELECT "user_friendships"."user_id" FROM "user_friendships"  WHERE ((("user_friendships"."user_id" = 1 OR "user_friendships"."friend_id" = 1) AND "user_friendships"."pending" = 't'))) AND "user_friendships"."user_id" NOT IN (SELECT "user_friendships"."friend_id" FROM "user_friendships"  WHERE ((("user_friendships"."user_id" = 1 OR "user_friendships"."friend_id" = 1) AND "user_friendships"."pending" = 't'))) AND "user_friendships"."user_id" NOT IN (SELECT "user_friendships"."friend_id" FROM "user_friendships"  WHERE (("user_friendships"."user_id" = 1 AND "user_friendships"."pending" = 'f'))))) GROUP BY "user_friendships"."user_id"  ORDER BY jcount
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (1.0ms)[0m  SELECT "users"."id", users.*, "user_friendships"."count" AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" WHERE (("user_friendships"."user_id" IN (SELECT "user_friendships"."friend_id" FROM "user_friendships"  WHERE (("user_friendships"."user_id" IN (SELECT "user_friendships"."friend_id" FROM "user_friendships"  WHERE (("user_friendships"."user_id" = 1 AND "user_friendships"."pending" = 'f'))) AND "user_friendships"."user_id" != 1))) AND "user_friendships"."pending" = 'f' AND "user_friendships"."friend_id" IN (SELECT "user_friendships"."friend_id" FROM "user_friendships"  WHERE (("user_friendships"."user_id" = 1 AND "user_friendships"."pending" = 'f'))) AND "user_friendships"."user_id" != 1 AND "user_friendships"."user_id" NOT IN (SELECT "user_friendships"."user_id" FROM "user_friendships"  WHERE ((("user_friendships"."user_id" = 1 OR "user_friendships"."friend_id" = 1) AND "user_friendships"."pending" = 't'))) AND "user_friendships"."user_id" NOT IN (SELECT "user_friendships"."friend_id" FROM "user_friendships"  WHERE ((("user_friendships"."user_id" = 1 OR "user_friendships"."friend_id" = 1) AND "user_friendships"."pending" = 't'))) AND "user_friendships"."user_id" NOT IN (SELECT "user_friendships"."friend_id" FROM "user_friendships"  WHERE (("user_friendships"."user_id" = 1 AND "user_friendships"."pending" = 'f'))))) GROUP BY "user_friendships"."user_id"  ORDER BY jcount
PG::GroupingError: ERROR:  column "users.id" must appear in the GROUP BY clause or be used in an aggregate function
LINE 1: SELECT "users"."id", users.*, "user_friendships"."count" AS ...
               ^
: SELECT "users"."id", users.*, "user_friendships"."count" AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" WHERE (("user_friendships"."user_id" IN (SELECT "user_friendships"."friend_id" FROM "user_friendships"  WHERE (("user_friendships"."user_id" IN (SELECT "user_friendships"."friend_id" FROM "user_friendships"  WHERE (("user_friendships"."user_id" = 1 AND "user_friendships"."pending" = 'f'))) AND "user_friendships"."user_id" != 1))) AND "user_friendships"."pending" = 'f' AND "user_friendships"."friend_id" IN (SELECT "user_friendships"."friend_id" FROM "user_friendships"  WHERE (("user_friendships"."user_id" = 1 AND "user_friendships"."pending" = 'f'))) AND "user_friendships"."user_id" != 1 AND "user_friendships"."user_id" NOT IN (SELECT "user_friendships"."user_id" FROM "user_friendships"  WHERE ((("user_friendships"."user_id" = 1 OR "user_friendships"."friend_id" = 1) AND "user_friendships"."pending" = 't'))) AND "user_friendships"."user_id" NOT IN (SELECT "user_friendships"."friend_id" FROM "user_friendships"  WHERE ((("user_friendships"."user_id" = 1 OR "user_friendships"."friend_id" = 1) AND "user_friendships"."pending" = 't'))) AND "user_friendships"."user_id" NOT IN (SELECT "user_friendships"."friend_id" FROM "user_friendships"  WHERE (("user_friendships"."user_id" = 1 AND "user_friendships"."pending" = 'f'))))) GROUP BY "user_friendships"."user_id"  ORDER BY jcount
  [1m[36mUser Load (1.0ms)[0m  [1mSELECT  "users".* FROM "users"   ORDER BY "users"."id" ASC LIMIT 1[0m
  [1m[35mUser Load (8.0ms)[0m  SELECT "users"."id", users.*, "user_friendships"."count" AS jcount FROM "users" INNER JOIN "user_friendships" ON "user_friendships"."user_id" = "users"."id" WHERE (("user_friendships"."user_id" IN (SELECT "user_friendships"."friend_id" FROM "user_friendships"  WHERE (("user_friendships"."user_id" IN (SELECT "user_friendships"."friend_id" FROM "user_friendships"  WHERE (("user_friendships"."user_id" = 1 AND "user_friendships"."pending" = 'f'))) AND "user_friendships"."user_id" != 1))) AND "user_friendships"."pending" = 'f' AND "user_friendships"."friend_id" IN (SELECT "user_friendships"."friend_id" FROM "user_friendships"  WHERE (("user_friendships"."user_id" = 1 AND "user_friendships"."pending" = 'f'))) AND "user_friendships"."user_id" != 1 AND "user_friendships"."user_id" NOT IN (SELECT "user_friendships"."user_id" FROM "user_friendships"  WHERE ((("user_friendships"."user_id" = 1 OR "user_friendships"."friend_id" = 1) AND "user_friendships"."pending" = 't'))) AND "user_friendships"."user_id" NOT IN (SELECT "user_friendships"."friend_id" FROM "user_friendships"  WHERE ((("user_friendships"."user_id" = 1 OR "user_friendships"."friend_id" = 1) AND "user_friendships"."pending" = 't'))) AND "user_friendships"."user_id" NOT IN (SELECT "user_friendships"."friend_id" FROM "user_friendships"  WHERE (("user_friendships"."user_id" = 1 AND "user_friendships"."pending" = 'f'))))) GROUP BY "user_friendships"."user_id", "users"."id"  ORDER BY jcount
  [1m[36m (919.1ms)[0m  [1mDROP DATABASE IF EXISTS "pof-dev"[0m
  [1m[35m (657.0ms)[0m  DROP DATABASE IF EXISTS "pof-test"
  [1m[36m (9134.5ms)[0m  [1mCREATE DATABASE "pof-dev" ENCODING = 'utf8'[0m
  [1m[35m (4005.2ms)[0m  CREATE DATABASE "pof-test" ENCODING = 'utf8'
  [1m[36m (351.0ms)[0m  [1mDROP DATABASE IF EXISTS "pof-dev"[0m
  [1m[35m (3799.2ms)[0m  CREATE DATABASE "pof-dev" ENCODING = 'utf8'
  [1m[36mSQL (23.0ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (74.0ms)[0m  CREATE TABLE "user_friendships" ("id" serial primary key, "user_id" integer, "friend_id" integer, "pending" boolean DEFAULT 't', "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (43.0ms)[0m  [1mCREATE  INDEX  "index_user_friendships_on_friend_id" ON "user_friendships" USING btree ("friend_id")[0m
  [1m[35m (40.0ms)[0m  CREATE UNIQUE INDEX  "index_user_friendships_on_user_id_and_friend_id" ON "user_friendships" USING btree ("user_id", "friend_id")
  [1m[36m (58.0ms)[0m  [1mCREATE  INDEX  "index_user_friendships_on_user_id" ON "user_friendships" USING btree ("user_id")[0m
  [1m[35m (35.0ms)[0m  CREATE TABLE "users" ("id" serial primary key, "name" character varying(255), "created_at" timestamp, "updated_at" timestamp) 
  [1m[36m (2.0ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) [0m
  [1m[35m (45.0ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (1.0ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (5.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20141226164009')
  [1m[36m (3.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20141221011839')[0m
  [1m[35m (1275.1ms)[0m  DROP DATABASE IF EXISTS "pof-test"
  [1m[36m (2629.2ms)[0m  [1mCREATE DATABASE "pof-test" ENCODING = 'utf8'[0m
  [1m[35mSQL (1.0ms)[0m  CREATE EXTENSION IF NOT EXISTS "plpgsql"
  [1m[36m (72.0ms)[0m  [1mCREATE TABLE "user_friendships" ("id" serial primary key, "user_id" integer, "friend_id" integer, "pending" boolean DEFAULT 't', "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (43.0ms)[0m  CREATE  INDEX  "index_user_friendships_on_friend_id" ON "user_friendships" USING btree ("friend_id")
  [1m[36m (42.0ms)[0m  [1mCREATE UNIQUE INDEX  "index_user_friendships_on_user_id_and_friend_id" ON "user_friendships" USING btree ("user_id", "friend_id")[0m
  [1m[35m (49.0ms)[0m  CREATE  INDEX  "index_user_friendships_on_user_id" ON "user_friendships" USING btree ("user_id")
  [1m[36m (53.0ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (3.0ms)[0m  CREATE TABLE "schema_migrations" ("version" character varying(255) NOT NULL) 
  [1m[36m (41.0ms)[0m  [1mCREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")[0m
  [1m[35m (1.0ms)[0m  SELECT version FROM "schema_migrations"
  [1m[36m (2.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20141226164009')[0m
  [1m[35m (2.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20141221011839')
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
Migrating to CreateTestUsers (20150111184912)
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (216.0ms)[0m  [1mCREATE TABLE "test_users" ("id" serial primary key, "name" character varying(255), "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35mSQL (0.0ms)[0m  INSERT INTO "schema_migrations" ("version") VALUES ($1)  [["version", "20150111184912"]]
  [1m[36m (3.0ms)[0m  [1mCOMMIT[0m
Migrating to CreateTestUserFriendship (20150111185006)
  [1m[35m (1.0ms)[0m  BEGIN
  [1m[36m (64.0ms)[0m  [1mCREATE TABLE "test_user_friendships" ("id" serial primary key, "test_user_id" integer, "friend_id" integer, "pending" boolean DEFAULT 't', "created_at" timestamp, "updated_at" timestamp) [0m
  [1m[35m (23.0ms)[0m  CREATE  INDEX  "index_test_user_friendships_on_test_user_id" ON "test_user_friendships"  ("test_user_id")
  [1m[36m (23.0ms)[0m  [1mCREATE  INDEX  "index_test_user_friendships_on_friend_id" ON "test_user_friendships"  ("friend_id")[0m
  [1m[35m (28.0ms)[0m  CREATE UNIQUE INDEX  "index_test_user_friendships_on_test_user_id_and_friend_id" ON "test_user_friendships"  ("test_user_id", "friend_id")
  [1m[36mSQL (0.0ms)[0m  [1mINSERT INTO "schema_migrations" ("version") VALUES ($1)[0m  [["version", "20150111185006"]]
  [1m[35m (1.0ms)[0m  COMMIT
  [1m[36mActiveRecord::SchemaMigration Load (3.0ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
